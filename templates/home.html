{% extends "base.html" %}

{% block content %}

<style>
  /* Smooth fade-in animation */
  .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s forwards;
  }
  @keyframes fadeInUp {
      to {
          opacity: 1;
          transform: translateY(0);
      }
  }
  /* Card hover effect */
  .card:hover {
      transform: translateY(-5px);
      transition: 0.3s ease-in-out;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  }
  /* Button hover */
  .btn-primary, .btn-outline-primary {
      border-radius: 30px;
      transition: 0.3s ease;
  }
  .btn-primary:hover, .btn-outline-primary:hover {
      transform: scale(1.05);
  }
  /* Quick links */
  .quick-links a {
      border-radius: 30px;
      font-weight: 500;
  }
  
/* Hover dropdowns */
.nav-item.dropdown.dropdown-hover:hover .dropdown-menu {
  display: block;
  margin-top: 0; 
.dropdown-hover > .nav-link::after {
  display: none;
}




</style>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold d-flex align-items-center" href="/">
      <img src="{{ url_for('static', filename='images/gpd_logo.png') }}" alt="GPD Logo" width="40" height="40" class="me-2">
      GP Dahod
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>

        <!-- Departments Dropdown -->
        <li class="nav-item dropdown dropdown-hover">
          <a class="nav-link dropdown-toggle" href="#" id="departmentsDropdown" role="button" data-bs-toggle="dropdown">Departments</a>
          <ul class="dropdown-menu" aria-labelledby="departmentsDropdown">
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='Computer') }}">Computer Engineering</a></li>
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='Civil') }}">Civil Engineering</a></li>
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='Electrical') }}">Electrical Engineering</a></li>
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='Electronic & Communication') }}">Electronic & Communication</a></li>
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='Mechanical') }}">Mechanical Engineering</a></li>
            <li><a class="dropdown-item" href="{{ url_for('department_page', dept_name='CAD&DM') }}">CAD&DM</a></li>
          </ul>
        </li>

        <!-- Committees Dropdown -->
        <li class="nav-item dropdown dropdown-hover">
          <a class="nav-link dropdown-toggle" href="#" id="committeeDropdown" role="button" data-bs-toggle="dropdown">Committees</a>
          <ul class="dropdown-menu" aria-labelledby="committeeDropdown">
            <li><a class="dropdown-item" href="{{ url_for('internal_complaint_committee') }}">Sexual Harassment & ICC</a></li>
            <li><a class="dropdown-item" href="{{ url_for('grievance_redressal_committee') }}">Grievance Redressal</a></li>
            <li><a class="dropdown-item" href="{{ url_for('student_feedback_committee') }}">Student Feedback</a></li>
          </ul>
        </li>

        <!-- Facilities Dropdown -->
        <li class="nav-item dropdown dropdown-hover">
          <a class="nav-link dropdown-toggle" href="#" id="facilitiesDropdown" role="button" data-bs-toggle="dropdown">Facilities</a>
          <ul class="dropdown-menu" aria-labelledby="facilitiesDropdown">
            <li><a class="dropdown-item" href="{{ url_for('hostel') }}">Hostel</a></li>
            <li><a class="dropdown-item" href="{{ url_for('library') }}">Library</a></li>
            <li><a class="dropdown-item" href="{{ url_for('transport') }}">Transportation</a></li>
          </ul>
        </li>

        <li class="nav-item"><a class="nav-link" href="{{ url_for('alumni_list') }}">Alumni</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('student_corner') }}">Student Corner</a></li>

        <!-- Login Dropdown -->
        <li class="nav-item dropdown dropdown-hover">
          <a class="nav-link dropdown-toggle" href="#" id="loginDropdown" role="button" data-bs-toggle="dropdown">Login</a>
          <ul class="dropdown-menu" aria-labelledby="loginDropdown">
            <li><a class="dropdown-item" href="/login">Admin Login</a></li>
            <li><a class="dropdown-item" href="/department_login">Department Login</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


<!-- Hero Section -->
<section id="hero-section" class="bg-light p-5 text-center text-white shadow-sm d-flex flex-column justify-content-center align-items-center">
  <div class="overlay"></div>
  <h1 class="fw-bold z-1">Government Polytechnic Dahod</h1>
  <p class="lead z-1">Empowering Students for a Better Future</p>
</section>

<style>
  #hero-section {
      height: 60vh;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
      transition: background-image 1s ease-in-out;
  }

  #hero-section .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5); /* Dark overlay for better text visibility */
      z-index: 0;
  }

  #hero-section h1,
  #hero-section p {
      position: relative;
      z-index: 1;
  }
  .scroll-box {
  max-height: 650px;
  overflow-y: auto;
  padding-right: 10px;
}

/* Custom Scrollbar Styling */
.scroll-box::-webkit-scrollbar {
  width: 8px;
}

.scroll-box::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

.scroll-box::-webkit-scrollbar-thumb {
  background: #007bff; /* Bootstrap primary color */
  border-radius: 10px;
}

.scroll-box::-webkit-scrollbar-thumb:hover {
  background: #0056b3; /* Darker on hover */
}

.small-scroll {
  max-height: 150px; /* or adjust to match 3 items */
}


</style>

<script>
  // Array of background image URLs
  const images = [
      'static/images/campus1.jpg',
      'static/images/campus2.jpg',
      'static/images/campus3.jpg',
      'static/images/campus4.jpg'
  ];

  let current = 0;
  const hero = document.getElementById('hero-section');

  function changeBackground() {
      hero.style.backgroundImage = `url('${images[current]}')`;
      current = (current + 1) % images.length;
  }

  // Start the slideshow
  changeBackground(); // Show the first image immediately
  setInterval(changeBackground, 5000); // Change every 5 seconds
</script>


<!-- Vision & Mission -->
<section class="container my-5 fade-in">
    <div class="row g-4">
        <div class="col-md-6">
            <div class="p-4 border rounded-3 shadow-sm h-100">
                <h3 class="mb-3">Institute Vision</h3>
                <p>To nurture young minds by imparting technical education to meet ever changing industrial challenges and social needs.</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="p-4 border rounded-3 shadow-sm h-100">
                <h3 class="mb-3">Institute Mission</h3>
                <ul>
                    <li>Developing technically and ethically competent manpower to accept new challenges through conductive teaching environment.</li>
                    <li>Strengthen Industry Institute Interaction.</li>
                    <li>Up-gradation of institutional resources to cope up with latest technical developments.</li>
                    <li>Enhancing the employability skills of rural youth.</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Principal's Message -->
<section class="bg-primary text-white text-center p-5 fade-in shadow-sm">
  <div class="container">
    <img src="static/images/principal.jpg" alt="Principal" class="rounded-circle mb-3" width="150" height="150">
    <h3 class="mb-3">Principal's Message</h3>
    
    <blockquote class="blockquote fst-italic">
      “Education is not the learning of facts, but the training of the mind to think.” – Albert Einstein
    </blockquote>
    
    <p class="mt-4">
      Welcome to <strong>Government Polytechnic, Dahod</strong> — a premier institution dedicated to nurturing technical excellence, innovation, and ethical values.
      As the Principal, I take immense pride in leading a team committed to academic rigor, hands-on learning, and holistic development.
    </p>

    <p>
      At our institute, we believe that technical education must go beyond textbooks. We strive to create an environment that fosters critical thinking, 
      collaboration, and creativity, preparing our students to face the challenges of a rapidly evolving global landscape.
    </p>

    <p>
      Our dedicated faculty, modern infrastructure, industry collaborations, and student-centric approach ensure that every learner receives the support 
      and exposure needed to thrive in their professional journey. Whether in the classroom, lab, or through extracurricular initiatives, we encourage 
      students to explore, innovate, and grow with confidence and integrity.
    </p>

    <p>
      I invite you to explore our website to learn more about our departments, achievements, and initiatives. Together, let’s continue to uphold the 
      tradition of excellence and contribute meaningfully to society.
    </p>

    <p class="fw-bold mt-3 mb-0">[Dr./Mr./Ms. Full Name]</p>
    <p class="mb-0">Principal</p>
    <p class="mb-0">Government Polytechnic, Dahod</p>
  </div>
</section>


<!-- Top Alumni -->
<section id="top-alumni" class="mt-5 fade-in">
  <div class="container">
      <h2 class="text-center mb-5">🌟 Our Top Alumni</h2>
      <div class="row g-4">
          {% for alumnus in alumni[:3] %}
          <div class="col-md-4">
              <div class="card h-100 text-center shadow-sm">
                  <img src="{{ url_for('static', filename='uploads/' + alumnus[6]) }}" class="card-img-top" alt="Alumnus Photo" style="height:300px; object-fit:cover;">
                  <div class="card-body">
                      <h5 class="card-title">{{ alumnus[1] }}</h5>
                      <p class="card-text"><strong>{{ alumnus[3] }}</strong> at {{ alumnus[4] }}</p>
                      <small class="text-muted">{{ alumnus[5] }}</small>
                  </div>
              </div>
          </div>
          {% endfor %}
      </div>
  </div>
</section>

<!-- Latest Circulars -->
<div class="container my-5 fade-in">
  <h3 class="text-center mb-4">📢 Latest Circulars</h3>

  <!-- Academic Year Selection -->
  <form method="GET" class="mb-4 text-center">
    <label for="academic_year" class="form-label fw-bold">Academic Year:</label>
    <select name="academic_year" id="academic_year" class="form-select d-inline-block w-auto" onchange="this.form.submit()">
      {% for year in academic_years %}
        <option value="{{ year }}" {% if year == selected_year %}selected{% endif %}>{{ year }}</option>
      {% endfor %}
    </select>
  </form>

  <!-- Circulars List -->
  <ul class="list-group">
    {% for circ in circulars %}
    <li class="list-group-item d-flex justify-content-between align-items-start shadow-sm flex-column flex-md-row">
      <div>
        <a href="{{ url_for('static', filename='uploads/' ~ circ.file) }}" target="_blank" class="text-decoration-none fw-bold">
          {{ circ.title }}
        </a>
        <br>
        <small class="text-muted">Posted on: {{ circ.posted_on }}</small>
      </div>
      {% if circ.is_new %}
      <span class="badge bg-success rounded-pill align-self-start align-self-md-center mt-2 mt-md-0">🆕 New</span>
      {% endif %}
    </li>
    {% else %}
    <li class="list-group-item">No circulars available for selected academic year.</li>
    {% endfor %}
  </ul>

  <div class="text-center mt-3">
    <a href="{{ url_for('view_circulars') }}" class="btn btn-outline-primary">View All Circulars →</a>
  </div>
</div>



<div class="container my-5 fade-in">
  <h3 class="text-center mb-4">📄 Official Documents</h3>
  <div class="row">
    
    <!-- EoA Letters -->
<div class="col-md-6">
  <div class="border rounded-3 p-3 shadow-sm h-100">
    <h4 class="text-primary text-center mb-4">EoA Letters (AICTE Approval)</h4>
    <div class="scroll-box small-scroll">
      {% if eoa_letters %}
        <ul class="list-group">
          {% for year, file in eoa_letters %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Academic Year {{ year }}
            <a href="{{ url_for('static', filename='uploads/eoa_letters/' ~ file) }}" target="_blank" class="btn btn-outline-primary btn-sm">📥 Download</a>
          </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No EoA letters available.</p>
      {% endif %}
    </div>
  </div>
</div>

<!-- GTU Affiliation Letters -->
<div class="col-md-6">
  <div class="border rounded-3 p-3 shadow-sm h-100">
    <h4 class="text-primary text-center mb-4">GTU Affiliation Letters</h4>
    <div class="scroll-box small-scroll">
      {% if gtu_letters %}
        <ul class="list-group">
          {% for year, file in gtu_letters %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Academic Year {{ year }}
            <a href="{{ url_for('static', filename='uploads/gtu_letters/' ~ file) }}" target="_blank" class="btn btn-outline-success btn-sm">📥 Download</a>
          </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No GTU affiliation letters available.</p>
      {% endif %}
    </div>
  </div>
</div>


  </div>
</div>

<!-- Newsletters -->
<div class="container my-5 fade-in">
  <h3 class="text-center mb-4">📰 Institute Newsletters</h3>
  <div class="row justify-content-center">
  <div class="col-md-8">
    <div class="scroll-box small-scroll">
      <ul class="list-group">
        {% for newsletter in newsletters %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ newsletter.title }}</strong><br>
            <small class="text-muted">Uploaded on {{ newsletter.uploaded_on }}</small>
          </div>
          <div class="text-end">
            <a href="{{ url_for('static', filename='uploads/Newsletters/' ~ newsletter.file) }}" target="_blank" class="btn btn-sm btn-outline-primary">📥 Download</a>
            {% if newsletter.is_new %}
              <span class="badge bg-danger ms-2">New</span>
            {% endif %}
          </div>
        </li>
        {% else %}
        <li class="list-group-item">No newsletters available.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>

</div>

<!-- Quick Links -->
<section class="bg-light p-4 quick-links fade-in">
    <div class="container text-center">
        <h5 class="mb-4">Quick Links</h5>
        <a href="https://www.aicte-india.org/" target="_blank" class="btn btn-outline-primary m-2">AICTE</a>
        <a href="https://dte.gujarat.gov.in/" target="_blank" class="btn btn-outline-primary m-2">DTE</a>
        <a href="https://www.gtu.ac.in/" target="_blank" class="btn btn-outline-primary m-2">GTU</a>
        <a href="https://www.onlinesbi.sbi/sbicollect/icollecthome.htm" target="_blank" class="btn btn-outline-primary m-2">SBI Collect</a>

    </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white text-center p-3 fade-in">
    <p class="mb-1">Government Polytechnic Dahod | Address | Contact: 1234567890 | Email: info@gp.dahod.in</p>
    <div>
        <a href="#" class="text-white me-2">Facebook</a> |
        <a href="#" class="text-white ms-2">Instagram</a>
    </div>
</footer>

{% endblock %}
